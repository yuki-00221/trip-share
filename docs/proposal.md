# TripShare
## アプリケーション概要
TripShareは，ユーザーが旅行記を投稿・共有し，訪問都道府県の達成度を可視化できるWebアプリケーションです． 
旅行好きのユーザーが自分の旅行体験を記録・公開したり，他ユーザーの旅行記を参考に旅行計画を立てたりできます．  

### 目的
- ユーザーの旅行体験を記録・共有する
- 訪問都道府県を可視化してモチベーション向上
- 他ユーザーの投稿から旅行先の参考情報を得られる

### 対象ユーザー
- 旅行好きの一般ユーザー
- 旅行プランの参考にしたい人

### 機能
#### 実装済み
- ユーザー管理
    - ユーザー登録
    - ログイン / ログアウト
- 旅行記投稿機能
    - 新規投稿（タイトル，本文，写真，都道府県，旅行日）
    - 投稿の編集
    - 投稿の削除
- 投稿閲覧
    - 全ユーザーの投稿表示
    - 詳細詳細ページ（本文を全文掲載）
- マイページ
    - 自身の投稿一覧表示
    - 訪問済み都道府県の可視化
        - 各都道府県を選択すると，その都道府県の投稿のみを表示
#### 未実装
- ユーザー管理の拡張
  - アカウント削除
- 投稿機能の拡張
    - 複数枚の写真の投稿
    - 詳細な位置情報（オプション）
    - 投稿時に写真のプレビューを追加
- 投稿閲覧機能の拡張
    - 投稿へのリアクション
        - コメント
        - いいね
    - 投稿検索
        - ユーザー
        - 都道府県
        - 文字検索
        - 投稿日（範囲指定）
        - 旅行日（範囲指定）
    - 投稿並べ替え
        - 投稿日
        - 旅行日
- マイページの拡張
    - プロフィールの表示
    - プロフィールの編集
    - 他ユーザーのマイページ閲覧
    - 訪問済み都道府県のスコア化
    - 都道府県を訪問回数により色分け
    - 都道府県別投稿画面に観光情報を追加
- 管理者（admin）の追加
    - 投稿の管理
    - ユーザーの管理

## 使い方
1. ユーザー登録
2. ログイン
3. 投稿一覧ページで他ユーザーの旅行記を閲覧
4. マイページで自分の投稿を確認
5. 投稿を選択して写真や本文全文を確認
6. 共有したい旅行記を投稿

## プロジェクト構成
```
tripshare/
├─ config/
│   ├─ config.php           # サイト設定（DB接続情報など）
│   ├─ db_connect.php       # DB接続用
│   ├─ db_drop.php          # テーブル削除用
│   ├─ db_init.php          # テーブル作成用
│   └─ functions.php        # 共通関数
├─ public/
│   ├─ index.php            # 投稿一覧（全件表示）
│   ├─ login_process.php    # ログイン処理
│   ├─ login.php            # ログイン画面
│   ├─ logout.php           # ログアウト
│   ├─ mypage.php           # マイページ
│   ├─ post_delete.php      # 投稿削除処理
│   ├─ post_detail.php      # 投稿詳細表示
│   ├─ post_form.php        # 投稿フォーム（新規 / 編集）
│   ├─ post_save.php        # 投稿保存処理（新規 / 編集）
│   ├─ prefecture.php       # 都道府県別投稿表示
│   ├─ register.php         # ユーザー登録
│   ├─ assets/
│   │   ├─ css/style.css
│   │   ├─ js/             # JavaScript
│   │   └─ uploads/        # 投稿画像保存先
│   └─ templates/
│       ├─ header.php
│       ├─ footer.php
│       └─ nav.php
└─ docs/
    └─ proposal.md
```

### 技術構成
- バックエンド: PHP
- フロントエンド: HTML / CSS / JavaScript
- データベース: MySQL（ユーザーテーブル、投稿テーブルなど複数テーブル）

### DB構成
- users：ユーザー情報（ID，ユーザー名，パスワード，登録日）
- posts：旅行記情報（ID，ユーザーID，タイトル，本文，都道府県，旅行日，画像パス，投稿日）

## 達成している技術要件項目
### スコア4
- 「ユーザー限定」の概念があり、ユーザー登録機能 / ユーザーログイン機能がある
- サイト内部に画像のアップロード機能を持つ
### スコア2
- 改行を含む文章が投稿でき（textarea 使用）、また、その投稿が表示される
    - 投稿の本文は改行を含めることができる
- CSSファイルを用いて装飾表現をしている
    - `public/assets/css/style.css`に記述
- Javascriptファイルを用いている（既存ライブラリでも自作でもよい）
    - `public/assets/js/`にあるファイルを参照
- （プログラム構成）2画面以上（phpファイル）を有し、POSTまたはSESSIONによる画面遷移を行なっている
    - 以下の画面を有し，POSTまたはSESSIONによる画面遷移を行なっている
        - ログイン画面（`login.php`）
        - ユーザー登録画面（`register.php`）
        - 投稿一覧画面（`index.php`）
        - 投稿詳細画面（`post_detail.php`）
        - 新規投稿/編集画面（`post_form.php`）
        - マイページ画面（`mypage.php`）
        - 都道府県別投稿閲覧画面（`prefecture.php`）
### スコア1
- （プログラム内部(☆)）function を自作し、プログラム内で使っている
    - `config/functions.php`にまとめている
    - 目的は再利用性と保守性の向上，および可読性の向上である
- （プログラム内部(☆)）include を用いたプログラム構成にしている
    - ヘッダー，フッター，ナビゲーションをincludeを用いて参照している
    - 目的は再利用性と保守性の向上である
- （DB）機能上、データベースに 2 テーブル以上を有している
    - 以下のデータベースを有している
        - users：ユーザー情報（ID，ユーザー名，パスワード，登録日）
        - posts：旅行記情報（ID，ユーザーID，タイトル，本文，画像パス，都道府県，旅行日，投稿日）
    - postsテーブルのユーザーIDはusersテーブルのIDと関連付けられており，各旅行記がどのユーザーに属するかを管理している
### 合計スコア
スコア4: 2  
スコア2: 4  
スコア1: 3  
合計: 19
